"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Rest = exports.Controller = void 0;
const inversify_1 = require("inversify");
const reflector_1 = require("../../reflector");
const declarations_1 = require("../../declarations");
/**
 * HTTP Controller
 * @param uri
 * @constructor
 * @deprecated
 * @use {Rest} instead
 */
const Controller = (uri) => {
    return target => {
        (0, reflector_1.__mixinIfAbsent)(target, { name: declarations_1.CTRL_PREFIX, refers: () => uri }, { name: declarations_1.CTRL_ROUTES, refers: () => [] }, {
            name: declarations_1.OBJECT_RUNNER,
            refers: () => []
        }, { name: declarations_1.CTRL_GUARD, refers: () => true });
        (0, reflector_1.__annotation)((0, inversify_1.injectable)(), target);
        return target;
    };
};
exports.Controller = Controller;
/**
 * Rest apis decorator
 * @param {string} uri
 * @return {ClassDecorator}
 * @constructor
 */
const Rest = (uri) => {
    return target => {
        (0, reflector_1.__mixinIfAbsent)(target, { name: declarations_1.CTRL_PREFIX, refers: () => uri }, { name: declarations_1.CTRL_ROUTES, refers: () => [] }, {
            name: declarations_1.OBJECT_RUNNER,
            refers: () => []
        }, { name: declarations_1.CTRL_GUARD, refers: () => true });
        (0, reflector_1.__annotation)((0, inversify_1.injectable)(), target);
        return target;
    };
};
exports.Rest = Rest;
